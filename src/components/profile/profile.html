<!--
SPDX-License-Identifier: GPL-2.0-only
Copyright (C) 2023, Input Labs Oy.
-->

<div class="template">
    <div class="crop_h">
        <div class='crop_v'>
            <div
                *ngFor='let mapping of getMappings(); trackBy: trackById'
                class='section'
                [ngClass]='mapping.cls'
                [ngStyle]='mapping.style'
                (click)='mapping.click()'
                >
                <app-action-preview
                    [section]='mapping.section'
                />
            </div>
            <div
                class='section thin pale'
                style='grid-area: 6 / 8 / 8 / 11'
                [ngClass]="selected.sectionIndex == SectionIndex.NAME ? 'selected' : ''"
                (click)='setSelectedName()'
                >
                <app-led [dotsize]='10' [aperture]='2' [on]='getLedPattern(profileIndex)'/>
            </div>
            <div
                class='section'
                style='grid-area: 13 / 6'
                [ngClass]="selected.sectionIndex == SectionIndex.THUMBSTICK ? 'selected' : ''"
                (click)='setSelectedThumbstick()'
                >
                &nbsp;
            </div>
            <div
                class='section'
                style='grid-area: 17 / 14 / 19 / 14'
                [ngClass]="selected.sectionIndex == SectionIndex.GYRO ? 'selected' : ''"
                (click)='setSelectedGyro()'
                >
                &nbsp;
            </div>
        </div>
    </div>
</div>

<div class='panel'>
    <div *ngIf='getSelected()'>
        <app-section
            [profileIndex]='profileIndex'
            [section]='getSelected()'
        />
    </div>
</div>
