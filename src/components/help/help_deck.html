<!--
SPDX-License-Identifier: GPL-2.0-only
Copyright (C) 2023, Input Labs Oy.
-->

<h2 i18n>Setup in Steam Deck / Arch Linux</h2>
<hr/>

<h3 i18n>Compatible browsers</h3>
<ul>
    <li i18n>Chrome / Chromium.</li>
</ul>
<hr/>

<h3 i18n>Protocol mode</h3>
<ul>
    <li i18n>Controller must be either in <span class='code'>Linux Xinput</span> mode, or in <span class='code'>Generic</span> mode.</li>
    <li i18n>Each mode have to be paired individually.</li>
</ul>
<hr/>

<h3 i18n>OS configuration</h3>
<p i18n>Go into desktop mode, in the terminal app set a password for your user:</p>
<span class='code'>passwd</span>
<p i18n>Type a new password (it won't be visible while typing).</p>

<p i18n>Create a file with udev rules:</p>
<p i18n><span class='code'>sudo nano /etc/udev/rules.d/99-alpakka.rules</span></p>
<div class='code'>
    <pre>
{{'SUBSYSTEMS=="usb", ATTRS{idVendor}=="045e", MODE="0660", GROUP="deck", SYMLINK+="webusb"'}}
{{'SUBSYSTEMS=="usb", ATTRS{idVendor}=="0170", MODE="0660", GROUP="deck", SYMLINK+="webusb"'}}</pre>
</div>
<p i18n>Reconnect the controller and verify the rule has been loaded by checking if <span class='code'>/dev/webusb</span> exist.</p>
<hr/>

<h3 i18n>Pair controller</h3>
<p i18n>Click this button and select <span class='code'>Alpakka</span> or <span class='code'>Kapybara</span> from the list.</p>
<button class='buttonBig' (click)='webusb.requestDevice()' i18n>Pair a new controller</button>
<hr/>

<h3 i18n>Known issues</h3>
<ul>
    <li i18n>The controller has to be connected <span class='code'>before opening the browser</span>.</li>
    <li i18n>If the controller is restarted, the browser must be re-opened too.</li>
</ul>


